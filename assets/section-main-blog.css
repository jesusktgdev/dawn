.blog-articles {
  display: grid;
  grid-gap: 1rem;
  column-gap: var(--grid-mobile-horizontal-spacing);
  row-gap: var(--grid-mobile-vertical-spacing);
}

.blog-articles .card-wrapper {
  width: 100%;
}

@media screen and (min-width: 750px) {
  .blog-articles {
    grid-template-columns: 1fr 1fr;
    column-gap: var(--grid-desktop-horizontal-spacing);
    row-gap: var(--grid-desktop-vertical-spacing); 
  }

  .blog-articles--collage > *:nth-child(3n + 1),
  .blog-articles--collage > *:nth-child(3n + 2):last-child {
    grid-column: span 2;
    text-align: center;
  }

  .blog-articles--collage > *:nth-child(3n + 1) .card,
  .blog-articles--collage > *:nth-child(3n + 2):last-child .card {
    text-align: center;
  }

  .blog-articles--collage > *:nth-child(3n + 1) .article-card__image--small .ratio::before,
  .blog-articles--collage > *:nth-child(3n + 2):last-child .article-card__image--small .ratio::before {
    padding-bottom: 22rem;
  }

  .blog-articles--collage > *:nth-child(3n + 1) .article-card__image--medium .ratio::before,
  .blog-articles--collage > *:nth-child(3n + 2):last-child .article-card__image--medium .ratio::before {
    padding-bottom: 44rem;
  }

  .blog-articles--collage > *:nth-child(3n + 1) .article-card__image--large .ratio::before,
  .blog-articles--collage > *:nth-child(3n + 2):last-child .article-card__image--large .ratio::before {
    padding-bottom: 66rem;
  }
}

@media screen and (min-width: 990px) {
  .blog-articles--collage > *:nth-child(3n + 1) .article-card__image--small .ratio .ratio::before,
  .blog-articles--collage > *:nth-child(3n + 2):last-child .article-card__image--small .ratio .ratio::before {
    padding-bottom: 27.5rem;
  }

  .blog-articles--collage > *:nth-child(3n + 1) .article-card__image--medium .ratio::before,
  .blog-articles--collage > *:nth-child(3n + 2):last-child .article-card__image--medium .ratio::before {
    padding-bottom: 55rem;
  }

  .blog-articles--collage > *:nth-child(3n + 1) .article-card__image--large .ratio::before,
  .blog-articles--collage > *:nth-child(3n + 2):last-child .article-card__image--large .ratio::before {
    padding-bottom: 82.5rem;
  }
}

.blog--collapsed-y .card-wrapper {
  height: calc(100% + var(--card-border-width));
}

.blog--collapsed-x {
  margin-right: var(--card-border-width);
}

.blog--collapsed-y {
  margin-bottom: var(--card-border-width);
}

.blog--collapsed-x .card {
  margin-right: calc(var(--card-border-width) * -1);
}

.blog--collapsed-y .card {
  margin-bottom: calc(var(--card-border-width) * -1);
}

.blog--collapsed-x:not(.blog-articles--collage) .article:nth-child(even) .card--card:after,
.blog--collapsed-x:not(.blog-articles--collage) .article:nth-child(even) .card--standard .card__inner:after,
.blog--collapsed-x.blog-articles--collage .article:nth-child(3n) .card--card:after,
.blog--collapsed-x.blog-articles--collage .article:nth-child(3n) .card--standard .card__inner:after {
  margin-left: var(--card-border-width);
}

.blog--collapsed-y.blog-articles--collage .article:not(:first-child) .card--card:after,
.blog--collapsed-y:not(.blog-articles--collage) .article:not(:nth-child(-n + 2)) .card--card:after {
  margin-top: var(--card-border-width);
}
/* use the same shadow offset card--cards use, because a text-only blog cards behave less like card--standard */
.blog--collapsed-y.blog-articles--collage.blog-articles--text-only .article:not(:first-child) .card--standard .card__inner:after,
.blog--collapsed-y.blog-articles--text-only:not(.blog-articles--collage) .article:not(:nth-child(-n + 2)) .card--standard .card__inner:after {
  margin-top: var(--card-border-width);
}


.blog--collapsed .article  {
  --top-left-radius: 0;
  --top-right-radius: 0;
  --bottom-right-radius: 0;
  --bottom-left-radius: 0;
}

@media screen and (max-width: 749px) {
  .blog--collapsed .article:first-child,
  .blog--collapsed.blog-articles--collage.contains-card--standard .article {
    --top-right-radius: var(--border-radius);
    --top-left-radius: var(--border-radius);
  }
  .blog--collapsed .article:last-child,
  .blog--collapsed.blog-articles--collage.contains-card--standard .article {
    --bottom-right-radius: var(--border-radius);
    --bottom-left-radius: var(--border-radius);
  }
}

@media screen and (min-width: 750px) {
  /* collage layout */
  .blog--collapsed.blog-articles--collage .article:first-child,
  .blog--collapsed.blog-articles--collage.contains-card--standard .article:nth-child(3n + 1) {
    --top-right-radius: var(--border-radius);
    --top-left-radius: var(--border-radius);
  }
  .blog--collapsed.blog-articles--collage .article:nth-child(3n + 1):last-child,
  .blog--collapsed.blog-articles--collage .article:nth-child(3n + 2):nth-last-child(-n + 2),
  .blog--collapsed.blog-articles--collage.contains-card--standard .article:nth-child(3n + 1) {
    --bottom-left-radius: var(--border-radius);
  }
  .blog--collapsed.blog-articles--collage .article:last-child,
  .blog--collapsed.blog-articles--collage .article:nth-child(3n + 2):last-child,
  .blog--collapsed.blog-articles--collage.contains-card--standard .article:nth-child(3n + 1) {
    --bottom-right-radius: var(--border-radius);
  }
  .blog--collapsed.blog-articles--collage.contains-card--standard .article:nth-child(3n + 2) {
    --top-left-radius: var(--border-radius);
    --bottom-left-radius: var(--border-radius);
  }
  .blog--collapsed.blog-articles--collage.contains-card--standard .article:nth-child(3n),
  .blog--collapsed.blog-articles--collage.contains-card--standard .article:nth-child(3n + 2):last-child {
    --top-right-radius: var(--border-radius);
    --bottom-right-radius: var(--border-radius);
  }

  /* grid layout */
  .blog--collapsed-y:not(.blog-articles--collage) .article:first-child,
  .blog--collapsed-y:not(.blog-articles--collage):not(.blog--collapsed-x) .article:nth-child(2):nth-child(even) {
    --top-left-radius: var(--border-radius);
  }
  .blog--collapsed-y:not(.blog-articles--collage) .article:nth-child(2),
  .blog--collapsed-y:not(.blog-articles--collage) .article:only-child,
  .blog--collapsed-y:not(.blog-articles--collage):not(.blog--collapsed-x) .article:first-child {
    --top-right-radius: var(--border-radius);
  }
  .blog--collapsed-y:not(.blog-articles--collage) .article:last-child:nth-child(odd),
  .blog--collapsed-y:not(.blog-articles--collage) .article:last-child:nth-child(even),
  .blog--collapsed-y:not(.blog-articles--collage) .article:nth-last-child(2):nth-child(even),
  .blog--collapsed-y:not(.blog-articles--collage):not(.blog--collapsed-x) .article:nth-last-child(2):nth-child(odd) {
    --bottom-right-radius: var(--border-radius);
  }
  .blog--collapsed-y:not(.blog-articles--collage) .article:nth-last-child(-n + 2):nth-child(odd),
  .blog--collapsed-y:not(.blog-articles--collage):not(.blog--collapsed-x) .article:nth-last-child(-n + 2):nth-child(even) {
    --bottom-left-radius: var(--border-radius);
  }
  .blog--collapsed-x:not(.blog-articles--collage):not(.blog--collapsed-y) .article:nth-child(even),
  .blog--collapsed-x:not(.blog-articles--collage):not(.blog--collapsed-y) .article:nth-child(odd):last-child,
  .blog--collapsed-x.contains-card--standard:not(.blog-articles--collage) .article:last-child,
  .blog--collapsed-x.contains-card--standard:not(.blog-articles--collage) .article:nth-child(2n + 2) {
    --top-right-radius: var(--border-radius);
    --bottom-right-radius: var(--border-radius);
  }
  .blog--collapsed-x:not(.blog-articles--collage):not(.blog--collapsed-y) .article:nth-child(odd),
  .blog--collapsed-x.contains-card--standard:not(.blog-articles--collage) .article:nth-child(2n + 1) {
    --top-left-radius: var(--border-radius);
    --bottom-left-radius: var(--border-radius);
  }
}
